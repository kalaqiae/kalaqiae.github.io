<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>贪吃蛇</title><script src=https://cdn.tailwindcss.com></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><style>:root{--primary:#6366f1;--primary-dark:#4f46e5;--success:#10b981;--danger:#ef4444;--warning:#f59e0b;--dark:#1e293b;--darker:#0f172a;--light:#f8fafc;--snake-head:#10b981;--snake-body:#34d399;--food:#ef4444;--grid:rgba(255, 255, 255, 0.05)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:inter,sans-serif;background:linear-gradient(135deg,#0f172a,#1e293b);color:var(--light);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;overflow:auto}.game-container{max-width:900px;width:100%;display:flex;flex-direction:column;background:rgba(30,41,59,.8);backdrop-filter:blur(10px);border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,.3);overflow:hidden;border:1px solid rgba(255,255,255,.1)}.game-content{display:flex;flex-direction:row;padding:20px;gap:20px}.game-board-container{flex:1;display:flex;flex-direction:column;align-items:center}.game-stats{display:flex;justify-content:space-between;padding:15px 20px;background:rgba(15,23,42,.7);border-radius:10px;margin-bottom:20px;width:100%}.stat-box{text-align:center;flex:1}.stat-value{font-size:1.8rem;font-weight:700;color:var(--light)}.stat-label{font-size:.8rem;color:#94a3b8;text-transform:uppercase;letter-spacing:1px}#gameCanvas{background:var(--darker);border-radius:10px;box-shadow:inset 0 0 20px rgba(0,0,0,.5);border:2px solid rgba(255,255,255,.1);display:block;margin:0 auto}.game-controls{display:flex;justify-content:center;gap:15px;margin-top:20px;width:100%}.btn{padding:12px 25px;border:none;border-radius:10px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s;display:flex;align-items:center;gap:8px;box-shadow:0 4px 6px rgba(0,0,0,.1)}.btn:active{transform:translateY(2px);box-shadow:0 2px 4px rgba(0,0,0,.1)}.btn-primary{background:var(--primary);color:#fff}.btn-primary:hover{background:var(--primary-dark)}.btn-success{background:var(--success);color:#fff}.btn-success:hover{background:#0da271}.btn-danger{background:var(--danger);color:#fff}.btn-danger:hover{background:#dc2626}.mobile-controls{display:none;margin-top:20px;flex-direction:column;align-items:center;gap:10px;width:100%}.control-row{display:flex;gap:15px;justify-content:center}.control-btn{width:70px;height:70px;border-radius:50%;background:rgba(99,102,241,.2);border:2px solid rgba(99,102,241,.5);display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;cursor:pointer;transition:all .2s ease;backdrop-filter:blur(5px)}.control-btn:active{background:rgba(99,102,241,.5);transform:scale(.95)}.game-message{text-align:center;padding:15px;margin-top:15px;border-radius:10px;font-weight:600;min-height:54px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;width:100%}.message-info{background:rgba(59,130,246,.2);color:#60a5fa;border:1px solid rgba(59,130,246,.3)}.message-success{background:rgba(16,185,129,.2);color:#34d399;border:1px solid rgba(16,185,129,.3)}.message-warning{background:rgba(245,158,11,.2);color:#fbbf24;border:1px solid rgba(245,158,11,.3)}.message-error{background:rgba(239,68,68,.2);color:#f87171;border:1px solid rgba(239,68,68,.3)}.instructions{flex:0 0 300px;padding:20px;background:rgba(15,23,42,.5);border-radius:10px;font-size:.9rem;color:#94a3b8;display:flex;flex-direction:column;justify-content:center}.instructions h3{margin-bottom:15px;color:#cbd5e1;font-size:1.2rem;text-align:center}.instructions ul{list-style:none;padding-left:0}.instructions li{margin-bottom:12px;display:flex;align-items:center;gap:10px;padding:8px;border-radius:5px;transition:background .3s}.instructions li:hover{background:rgba(255,255,255,5%)}.instructions i{width:20px;text-align:center}@media(max-width:768px){.game-content{flex-direction:column}.instructions{flex:none;width:100%}}@media(max-width:640px){.game-container{border-radius:15px}.mobile-controls{display:flex}.btn{padding:10px 20px;font-size:.9rem}.control-btn{width:60px;height:60px}}@media(max-width:480px){.game-stats{flex-direction:column;gap:10px}.stat-box{display:flex;justify-content:space-between;align-items:center}.stat-value{font-size:1.5rem}}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}.pulse{animation:pulse 2s infinite}@keyframes blink{0%{opacity:1}50%{opacity:.5}100%{opacity:1}}.blink{animation:blink 1.5s infinite}</style></head><body><div class=game-container><div class=game-content><div class=game-board-container><div class=game-stats><div class=stat-box><div class=stat-value id=score>0</div><div class=stat-label>当前得分</div></div><div class=stat-box><div class=stat-value id=highScore>0</div><div class=stat-label>最高记录</div></div><div class=stat-box><div class=stat-value id=level>1</div><div class=stat-label>游戏等级</div></div></div><canvas id=gameCanvas width=400 height=400></canvas><div id=gameMessage class="game-message message-info">点击"开始游戏"开始</div><div class=game-controls><button id=startBtn class="btn btn-success">
<i class="fas fa-play"></i> 开始游戏</button>
<button id=pauseBtn class="btn btn-primary" disabled>
<i class="fas fa-pause"></i> 暂停游戏</button>
<button id=resetBtn class="btn btn-danger">
<i class="fas fa-redo"></i> 重新开始</button></div><div class=mobile-controls><div class=control-row><div class=control-btn id=upBtn><i class="fas fa-arrow-up"></i></div></div><div class=control-row><div class=control-btn id=leftBtn><i class="fas fa-arrow-left"></i></div><div class=control-btn id=downBtn><i class="fas fa-arrow-down"></i></div><div class=control-btn id=rightBtn><i class="fas fa-arrow-right"></i></div></div></div></div><div class=instructions><h3><i class="fas fa-info-circle"></i> 游戏说明</h3><ul><li><i class="fas fa-keyboard"></i> 键盘控制: 方向键或WASD</li><li><i class="fas fa-pause"></i> 空格键: 暂停/继续游戏</li><li><i class="fas fa-apple-alt"></i> 吃到食物增加长度和得分</li><li><i class="fas fa-skull-crossbones"></i> 避免撞墙或自己的身体</li><li><i class="fas fa-trophy"></i> 挑战最高分记录</li></ul></div></div></div><script>const config={gridSize:20,initialSpeed:150,speedIncrement:5,canvasSize:400},state={snake:[],food:{x:0,y:0},direction:{x:1,y:0},score:0,highScore:parseInt(localStorage.getItem("snakeHighScore"))||0,level:1,gameSpeed:config.initialSpeed,isPlaying:!1,isPaused:!1,gameLoop:null};let directionChanged=!1;const canvas=document.getElementById("gameCanvas"),ctx=canvas.getContext("2d"),scoreElement=document.getElementById("score"),highScoreElement=document.getElementById("highScore"),levelElement=document.getElementById("level"),gameMessage=document.getElementById("gameMessage"),startBtn=document.getElementById("startBtn"),pauseBtn=document.getElementById("pauseBtn"),resetBtn=document.getElementById("resetBtn"),upBtn=document.getElementById("upBtn"),downBtn=document.getElementById("downBtn"),leftBtn=document.getElementById("leftBtn"),rightBtn=document.getElementById("rightBtn");function initGame(){canvas.width=config.canvasSize,canvas.height=config.canvasSize,state.snake=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],state.direction={x:1,y:0},state.score=0,state.level=1,state.gameSpeed=config.initialSpeed,state.isPlaying=!1,state.isPaused=!1,directionChanged=!1,generateFood(),updateUI(),drawGame()}function generateFood(){let e,t;const n=canvas.width/config.gridSize,s=canvas.height/config.gridSize;do{t=!1,e={x:Math.floor(Math.random()*n),y:Math.floor(Math.random()*s)};for(let n of state.snake)if(n.x===e.x&&n.y===e.y){t=!0;break}}while(t)state.food=e}function drawGame(){ctx.fillStyle="#0f172a",ctx.fillRect(0,0,canvas.width,canvas.height),drawGrid(),drawFood(),drawSnake()}function drawGrid(){ctx.strokeStyle="rgba(255,255,255,0.05)",ctx.lineWidth=1;for(let e=0;e<=canvas.width;e+=config.gridSize)ctx.beginPath(),ctx.moveTo(e,0),ctx.lineTo(e,canvas.height),ctx.stroke();for(let e=0;e<=canvas.height;e+=config.gridSize)ctx.beginPath(),ctx.moveTo(0,e),ctx.lineTo(canvas.width,e),ctx.stroke()}function drawFood(){const{x:e,y:t}=state.food,n=ctx.createRadialGradient(e*config.gridSize+config.gridSize/2,t*config.gridSize+config.gridSize/2,0,e*config.gridSize+config.gridSize/2,t*config.gridSize+config.gridSize/2,config.gridSize);n.addColorStop(0,"#fef2f2"),n.addColorStop(.7,"#fecaca"),n.addColorStop(1,"#ef4444"),ctx.fillStyle=n,ctx.beginPath(),ctx.arc(e*config.gridSize+config.gridSize/2,t*config.gridSize+config.gridSize/2,config.gridSize/2-1,0,Math.PI*2),ctx.fill(),ctx.fillStyle="rgba(255,255,255,0.7)",ctx.beginPath(),ctx.arc(e*config.gridSize+config.gridSize/2-3,t*config.gridSize+config.gridSize/2-3,3,0,Math.PI*2),ctx.fill()}function drawSnake(){for(let t=0;t<state.snake.length;t++){const e=state.snake[t];if(t===0)ctx.fillStyle="#10b981",roundRect(ctx,e.x*config.gridSize,e.y*config.gridSize,config.gridSize,config.gridSize,5),ctx.fillStyle="white",ctx.beginPath(),state.direction.x===1?(ctx.arc(e.x*config.gridSize+config.gridSize-5,e.y*config.gridSize+7,2,0,Math.PI*2),ctx.arc(e.x*config.gridSize+config.gridSize-5,e.y*config.gridSize+config.gridSize-7,2,0,Math.PI*2)):state.direction.x===-1?(ctx.arc(e.x*config.gridSize+5,e.y*config.gridSize+7,2,0,Math.PI*2),ctx.arc(e.x*config.gridSize+5,e.y*config.gridSize+config.gridSize-7,2,0,Math.PI*2)):state.direction.y===1?(ctx.arc(e.x*config.gridSize+7,e.y*config.gridSize+config.gridSize-5,2,0,Math.PI*2),ctx.arc(e.x*config.gridSize+config.gridSize-7,e.y*config.gridSize+config.gridSize-5,2,0,Math.PI*2)):(ctx.arc(e.x*config.gridSize+7,e.y*config.gridSize+5,2,0,Math.PI*2),ctx.arc(e.x*config.gridSize+config.gridSize-7,e.y*config.gridSize+5,2,0,Math.PI*2)),ctx.fill(),ctx.fillStyle="black",ctx.beginPath(),state.direction.x===1?(ctx.arc(e.x*config.gridSize+config.gridSize-4,e.y*config.gridSize+7,1,0,Math.PI*2),ctx.arc(e.x*config.gridSize+config.gridSize-4,e.y*config.gridSize+config.gridSize-7,1,0,Math.PI*2)):state.direction.x===-1?(ctx.arc(e.x*config.gridSize+4,e.y*config.gridSize+7,1,0,Math.PI*2),ctx.arc(e.x*config.gridSize+4,e.y*config.gridSize+config.gridSize-7,1,0,Math.PI*2)):state.direction.y===1?(ctx.arc(e.x*config.gridSize+7,e.y*config.gridSize+config.gridSize-4,1,0,Math.PI*2),ctx.arc(e.x*config.gridSize+config.gridSize-7,e.y*config.gridSize+config.gridSize-4,1,0,Math.PI*2)):(ctx.arc(e.x*config.gridSize+7,e.y*config.gridSize+4,1,0,Math.PI*2),ctx.arc(e.x*config.gridSize+config.gridSize-7,e.y*config.gridSize+4,1,0,Math.PI*2)),ctx.fill();else{const n=1-t/state.snake.length*.5,s=Math.floor(16+(52-16)*n),o=Math.floor(185+(211-185)*n),i=Math.floor(129+(167-129)*n);ctx.fillStyle=`rgb(${s}, ${o}, ${i})`,roundRect(ctx,e.x*config.gridSize,e.y*config.gridSize,config.gridSize,config.gridSize,3)}}}function roundRect(e,t,n,s,o,i){e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+s-i,n),e.quadraticCurveTo(t+s,n,t+s,n+i),e.lineTo(t+s,n+o-i),e.quadraticCurveTo(t+s,n+o,t+s-i,n+o),e.lineTo(t+i,n+o),e.quadraticCurveTo(t,n+o,t,n+o-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),e.fill()}function updateGame(){if(!state.isPlaying||state.isPaused)return;const e={...state.snake[0]};e.x+=state.direction.x,e.y+=state.direction.y;const n=canvas.width/config.gridSize,s=canvas.height/config.gridSize;if(e.x<0||e.x>=n||e.y<0||e.y>=s){gameOver();return}const t=e.x===state.food.x&&e.y===state.food.y,o=0,i=t?state.snake.length-1:state.snake.length-2;for(let t=o;t<=i;t++)if(t>=0&&t<state.snake.length&&e.x===state.snake[t].x&&e.y===state.snake[t].y){gameOver();return}if(state.snake.unshift(e),t){state.score+=10;const e=Math.floor(state.score/100)+1;e>state.level&&(state.level=e,state.gameSpeed=Math.max(50,state.gameSpeed-config.speedIncrement),clearInterval(state.gameLoop),state.gameLoop=setInterval(updateGame,state.gameSpeed),showMessage(`恭喜升级！当前等级: ${state.level}`,"success")),generateFood(),state.score>state.highScore&&(state.highScore=state.score,localStorage.setItem("snakeHighScore",state.highScore))}else state.snake.pop();updateUI(),drawGame(),directionChanged=!1}function gameOver(){state.isPlaying=!1,clearInterval(state.gameLoop),state.gameLoop=null,showMessage(`游戏结束！最终得分: ${state.score}`,"error"),startBtn.disabled=!1,startBtn.innerHTML='<i class="fas fa-play"></i> 重新开始',pauseBtn.disabled=!0,gameMessage.classList.add("pulse")}function startGame(){if(state.isPlaying)return;gameMessage.classList.remove("pulse"),clearInterval(state.gameLoop),state.snake=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],state.direction={x:1,y:0},state.score=0,state.level=1,state.gameSpeed=config.initialSpeed,state.isPlaying=!0,state.isPaused=!1,directionChanged=!1,generateFood(),state.gameLoop=setInterval(updateGame,state.gameSpeed),updateUI(),showMessage("游戏开始！控制小蛇吃掉食物","success"),startBtn.disabled=!0,pauseBtn.disabled=!1}function togglePause(){if(!state.isPlaying)return;state.isPaused=!state.isPaused,state.isPaused?(clearInterval(state.gameLoop),state.gameLoop=null,showMessage("游戏已暂停","warning"),pauseBtn.innerHTML='<i class="fas fa-play"></i> 继续游戏'):(state.gameLoop=setInterval(updateGame,state.gameSpeed),showMessage("游戏继续","success"),pauseBtn.innerHTML='<i class="fas fa-pause"></i> 暂停游戏')}function resetGame(){clearInterval(state.gameLoop),state.gameLoop=null,gameMessage.classList.remove("pulse"),state.snake=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],state.direction={x:1,y:0},state.score=0,state.level=1,state.gameSpeed=config.initialSpeed,state.isPlaying=!1,state.isPaused=!1,directionChanged=!1,generateFood(),updateUI(),showMessage('游戏已重置，点击"开始游戏"开始',"info"),startBtn.disabled=!1,startBtn.innerHTML='<i class="fas fa-play"></i> 开始游戏',pauseBtn.disabled=!0,pauseBtn.innerHTML='<i class="fas fa-pause"></i> 暂停游戏',drawGame()}function updateUI(){scoreElement.textContent=state.score,highScoreElement.textContent=state.highScore,levelElement.textContent=state.level}function showMessage(e,t){switch(gameMessage.textContent=e,gameMessage.className="game-message",t){case"success":gameMessage.classList.add("message-success");break;case"warning":gameMessage.classList.add("message-warning");break;case"error":gameMessage.classList.add("message-error");break;default:gameMessage.classList.add("message-info")}}function changeDirection(e,t){if(!state.isPlaying||state.isPaused)return;if(directionChanged)return;if(e===-state.direction.x&&t===-state.direction.y)return;state.direction.x=e,state.direction.y=t,directionChanged=!0}document.addEventListener("keydown",e=>{const t=e.key;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," ","Space","w","W","a","A","s","S","d","D"].includes(t)&&e.preventDefault(),t===" "||e.code==="Space"){state.isPlaying?togglePause():startGame();return}if(state.isPaused)return;switch(t){case"ArrowUp":case"w":case"W":changeDirection(0,-1);break;case"ArrowDown":case"s":case"S":changeDirection(0,1);break;case"ArrowLeft":case"a":case"A":changeDirection(-1,0);break;case"ArrowRight":case"d":case"D":changeDirection(1,0);break}}),startBtn.addEventListener("click",startGame),pauseBtn.addEventListener("click",togglePause),resetBtn.addEventListener("click",resetGame),upBtn.addEventListener("click",()=>changeDirection(0,-1)),downBtn.addEventListener("click",()=>changeDirection(0,1)),leftBtn.addEventListener("click",()=>changeDirection(-1,0)),rightBtn.addEventListener("click",()=>changeDirection(1,0)),initGame()</script></body></html>